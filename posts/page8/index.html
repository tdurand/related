
<!doctype html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
    
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relate It</title>

    
    <meta name="description" content="Relate it: Tracks Frequently Related Items." />
    
    <meta name="author" content="Dominic Tootell" />
    <meta name="copyright" content="relate it (c) 2013-2014" />

    <link rel="stylesheet" href="http://tootedom.github.io/related/stylesheets/foundation.css" />
    <script src="http://tootedom.github.io/related/javascripts/vendor/modernizr.js"></script>
</head>


  <body>
    

  <!-- Nav Bar -->

  <header class="inner">

	<nav>
	  <div class="row">
	    <div class="large-12 columns">
	      <div class="nav-bar right" style="padding-top: 30px">
	       <ul class="button-group">
	         <li><a href='http://tootedom.github.io/related/index.html' class="radius small button">Home</a></li>
	          <li class="divider"></li>
	         <li><a href='http://tootedom.github.io/related/indexing/index.html' data-dropdown="searchingdrop" data-options="is_hover:true" class="radius small button dropdown">Indexing</a><br/>
				<ul id="searchingdrop" data-dropdown-content class="small content f-dropdown">
				  <li><a href="http://tootedom.github.io/related/indexing/indexing1/index.html">Indexing Overview</a></li>
				  <li><a href="http://tootedom.github.io/related/indexing/indexing2/index.html">Indexing Date Names</a></li>
				  <li><a href="http://tootedom.github.io/related/indexing/indexing3/index.html">Post Document Format</a></li>
				  <li><a href="http://tootedom.github.io/related/indexing/indexing4/index.html">Related Item Properties</a></li>
				</ul>
			</li>
	         <li><a href='http://tootedom.github.io/related/searching/searching.html' class="radius small button">Searching</a></li>
	         <li><a href='http://tootedom.github.io/related/configuration.html' class="radius small button">Configuration</a></li>
	         <li><a href='http://tootedom.github.io/related/bog.html' class="radius small button">Blog</a></li>
	         <li><a href='http://tootedom.github.io/related/downloads.html'  class="radius small button">Downloads</a></li>         
	        </ul>
	      </div>
	      <h1><img src="http://tootedom.github.io/related/images/relateitlogo.png"></h1>
	      <hr />
	    </div>
	  </div>
	</nav>

</header>

  <!-- End Header and Nav -->


  <!-- First Band (Image) -->
      <style type="text/css">
      pre {
      	overflow: scroll;
      }
    </style>

	
	
	
		
		
		

	
	<div class="row">
       <div class="large-12 columns">
      	<p><strong>Relate it</strong> is a simple and easy way to relate one item to several others. Once several items are related, you can enquire: “For this item, what are the most frequently related items.”</p>

<p>An example use for this functionality is on a web site to create relations between the items the people are purchasing, and presenting users browsing those items a “Frequently Purchased With” section.</p>

<p>For example, Imagine a person purchases the books: ‘Java Performance Tuning’, ‘Akka Concurrency’ and ‘Java concurrency in Practice’ at the same time. When future user is browsing ‘Java Performance Tuning’, you can present that user with a set related items that this book is most “Frequently Purchased With”.</p>

<p>This application has 3 parts to it:</p>

<ul>
<li>A Indexing Web Application (Java)</li>

<li>A Searching Web Application (Java)</li>

<li><a href="http://www.elasticsearch.org/" title="Elasticsearch">Elasticsearch</a> backend</li>
</ul>

<p>The indexing and searching components (web applications) make use of the <a href="https://github.com/LMAX-Exchange/disruptor" title="Disruptor">Disruptor</a> library.</p>

<p>The search technology Elasticsearch provides the storage, and searching mechanism for providing the related product search.</p>

<p>The Indexing and Searching components do not need to directly be used. In other words you can just post data in the relevant format into elasticsearch, and then perform searching directly against elasticsearch to obtain the most frequently related items. However, it is the Indexing and Searching components that provide a means of batching indexing and searching requests that are being send to elasticsearch.</p>
<hr />
<h2 id="requirements">Requirements</h2>

<ul>
<li>JDK 7 (recommended jdk7u40+), Java Web Application Server with Servlet 3 (i.e. Tomcat 7+) and Elasticsearch 0.90.9</li>
</ul>
        <hr>
      </div>
    </div>	
	
	
		

	
	
		
		
	
		

	
	
		

	
	
		

	
	
		

	
	
		

	
	
		

	
	
		

	
	
		


	<div class="row">	    
	    <div class="large-12 columns">	      
	      <div class="row">
	        <div class="large-6 columns">
	          <h4>Indexing</h4>
	          <p>The index web application is POSTed data containing a group of related items, i.e. for example a purchase containing several items.</p>

<pre><code>curl -H&quot;Content-Type:text/json&quot; -XPOST -v http://localhost:8080/indexing/index -d &#39;
{
   &quot;channel&quot;:&quot;de&quot;,
   &quot;site&quot;:&quot;amazon&quot;,
   &quot;items&quot;:[
      {
         &quot;id&quot;:&quot;1&quot;,
         &quot;type&quot;:&quot;map&quot;
      },
      {
         &quot;id&quot;:&quot;2&quot;,
         &quot;type&quot;:&quot;compass&quot;
      },
      {
         &quot;id&quot;:&quot;3&quot;,
         &quot;type&quot;:&quot;torch&quot;
      },
      {
         &quot;id&quot;:&quot;4&quot;,
         &quot;type&quot;:&quot;torch&quot;,
         &quot;channel&quot;:&quot;uk&quot;
      }
   ]
}&#39;</code></pre>
	        </div>
	        <div class="large-6 columns">
	          <h4>Searching</h4>
	          <p>Find the items that are mostly purchased with product <strong>1</strong>, filtering the results to that of “torches” (type=torch):</p>

<pre><code>curl -v -N http://10.0.1.29:8080/searching/frequentlyrelatedto/1?type=torch | python -mjson.tool</code></pre>

<p>The result is:</p>

<pre><code>{
    &quot;response_time&quot;: &quot;11&quot;, 
    &quot;results&quot;: [
        {
            &quot;frequency&quot;: &quot;1&quot;, 
            &quot;id&quot;: &quot;4&quot;
        }, 
        {
            &quot;frequency&quot;: &quot;1&quot;, 
            &quot;id&quot;: &quot;3&quot;
        }
    ], 
    &quot;size&quot;: &quot;2&quot;, 
    &quot;storage_response_time&quot;: &quot;2&quot;
}</code></pre>

<p>This can be reduced event further to search for torches, just in channel uk, which is:</p>

<pre><code>curl -v -N &quot;http://localhost:8080/searching/frequentlyrelatedto/1?type=torch&amp;channel=uk&quot; | python -mjson.tool</code></pre>

<p>Which will result in just the one related item:</p>

<pre><code>{
    &quot;response_time&quot;: 3, 
    &quot;results&quot;: [
        {
            &quot;frequency&quot;: &quot;1&quot;, 
            &quot;id&quot;: &quot;4&quot;
        }
    ], 
    &quot;size&quot;: &quot;1&quot;, 
    &quot;storage_response_time&quot;: 1
}</code></pre>
	        </div>
	      </div>
	    </div>
  	</div>


  <!-- Footer -->
  <footer class="row">
    <div class="large-12 columns">
      <hr />
      <div class="row">
        <div class="large-6 columns">
          <p class="copyright">&copy; relate it maintained by <a href="https://github.com/tootedom">tootedom</a></p>
        </div>
        <div class="large-6 columns">
          <ul class="inline-list right">
            <li><a href="#">Link 1</a></li>
            <li><a href="#">Link 2</a></li>
            <li><a href="#">Link 3</a></li>
            <li><a href="#">Link 4</a></li>
          </ul>
        </div>
      </div>
    </div>
</footer>
<script src="http://tootedom.github.io/related/javascripts/vendor/jquery.js"></script>
<script src="http://tootedom.github.io/related/javascripts/foundation/foundation.js"></script>
<script src="http://tootedom.github.io/related/javascripts/foundation/foundation.dropdown.js"></script>
<script>
      $(document).foundation({
        // specify the class used for active dropdowns
        active_class: 'open'
      });

      var doc = document.documentElement;
      doc.setAttribute('data-useragent', navigator.userAgent);
</script>

  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47714522-1");
            pageTracker._trackPageview();
            } catch(err) {}
</script>
  </body>
</html>