<!doctype html>




<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">   
  
  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>Tomcat</title>
    

    
    <meta name="description" content="server.xml configuration for tomcat 7 for running the indexing and searching webapplication"/>
    
    
    <meta name="author" content="Dominic Tootell" />
    <meta name="copyright" content="relate it (c) 2013-2014" />
    <link rel="shortcut icon" href="http://relateit.io/favicon.ico" />

	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="http://relateit.io/stylesheets/foundation.css" />
    <script src="http://relateit.io/javascripts/vendor/modernizr.js"></script>
</head>


  <body>
    

<!-- Nav Bar -->

  <header class="inner">

	<nav>	  
	  <div class="row">	  	
	    <div class="large-12 columns">	      
	      <div class="nav-bar right" style="padding-top: 30px">
	       <ul class="button-group">
	         <li><a href='http://relateit.io/index.html' class="radius small button">Home</a></li>	         
	         <li><a href='http://relateit.io/indexing/index.html' class="radius small button">Indexing</a><br/></li>
	         <li><a href='http://relateit.io/searching/index.html' class="radius small button">Searching</a><br/></li>							 
	         <li><a href='http://relateit.io/configuration/index.html' class="radius small button">Configuration</a></li>
	         <li><a href='http://relateit.io/blog/index.html' class="radius small button">Blog</a></li>
	         <li><a href='http://relateit.io/downloads.html'  class="radius small button">Downloads</a></li>         
	        </ul>
	      </div>
	      <h1><a href='https://github.com/tootedom/related'><img src="http://relateit.io/images/relateitlogo.png"></a></h1>
	      <hr />
	    </div>
	  </div>
	</nav>	
</header>


  <!-- End Nav -->
  

  <div class="off-canvas-wrap">
  <div class="inner-wrap">

<nav class="tab-bar show-for-small">
  <a class="left-off-canvas-toggle menu-icon">
    <span></span>
  </a>
</nav>

<aside class="left-off-canvas-menu">

  <div class="sidebar-offcanvas">
          <h5>Documentation:</h5>          
          <nav>
            <ul class="off-canvas-list">
              <li class="heading">Indexing</li>
              
              
                
              
              

 

	<li><a href="http://relateit.io/indexing/indexing1" data-search>Overview</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing2" data-search>Dates</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing3" data-search>Document Format</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing4" data-search>Properties</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing5" data-search>Logging</a></li>


              <li class="divider"></li>
              <li class="heading">Searching</li>
              
              
                
              
              

 

	<li><a href="http://relateit.io/searching/searching1" data-search>Overview</a></li>


 

	<li><a href="http://relateit.io/searching/searching2" data-search>Filters</a></li>


 

	<li><a href="http://relateit.io/searching/searching3" data-search>Logging</a></li>


 

	<li><a href="http://relateit.io/searching/searching4" data-search>Indexes</a></li>


 

	<li><a href="http://relateit.io/searching/searching5" data-search>Aliases</a></li>


              <li class="divider"></li>
              <li class="heading">Configuration</li>
              
              
                
              
              

 

	
	<li><a href="http://relateit.io/configuration/configuration1" data-search>ES Connections</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration2" data-search>ES Type Mapping</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration3" data-search>ES Configuration</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration4" data-search>Webapp JVM</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration5" data-search>App Config</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration6" data-search class="active">Tomcat</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration7" data-search>Diagrams</a></li>
	


            </ul>
          </nav>
        </div> 

 
</aside>

<a class="exit-off-canvas" href="#"></a>


  <!-- Main Page Content and Sidebar -->

  <div class="row">
        <div class="large-3 medium-4 columns">
      <div class="hide-for-small">
        <div class="sidebar">
          <h5>Documentation:</h5>          
          <nav>
            <ul class="side-nav">
              <li class="heading">Indexing</li>
              
              
                
              
              

 

	<li><a href="http://relateit.io/indexing/indexing1" data-search>Overview</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing2" data-search>Dates</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing3" data-search>Document Format</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing4" data-search>Properties</a></li>


 

	<li><a href="http://relateit.io/indexing/indexing5" data-search>Logging</a></li>


              <li class="divider"></li>
              <li class="heading">Searching</li>
              
              
                
              
              

 

	<li><a href="http://relateit.io/searching/searching1" data-search>Overview</a></li>


 

	<li><a href="http://relateit.io/searching/searching2" data-search>Filters</a></li>


 

	<li><a href="http://relateit.io/searching/searching3" data-search>Logging</a></li>


 

	<li><a href="http://relateit.io/searching/searching4" data-search>Indexes</a></li>


 

	<li><a href="http://relateit.io/searching/searching5" data-search>Aliases</a></li>


              <li class="divider"></li>
              <li class="heading">Configuration</li>
              
              
                
              
              

 

	
	<li><a href="http://relateit.io/configuration/configuration1" data-search>ES Connections</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration2" data-search>ES Type Mapping</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration3" data-search>ES Configuration</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration4" data-search>Webapp JVM</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration5" data-search>App Config</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration6" data-search class="active">Tomcat</a></li>
	


 

	
	<li><a href="http://relateit.io/configuration/configuration7" data-search>Diagrams</a></li>
	


            </ul>
          </nav>
        </div> 
      </div>
    </div>
    <!-- Main Blog Content -->
    <div class="large-9 medium-8 columns" role="content">
    
    <div class="magellan-container" data-magellan-expedition="fixed" style="left: auto;">
      <dl class="sub-nav">        
        
        
         
        
          <dd data-magellan-arrival="1" ><a href="http://relateit.io/configuration/configuration1">ES Connections</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="2" ><a href="http://relateit.io/configuration/configuration2">ES Type Mapping</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="3" ><a href="http://relateit.io/configuration/configuration3">ES Configuration</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="4" ><a href="http://relateit.io/configuration/configuration4">Webapp JVM</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="5" ><a href="http://relateit.io/configuration/configuration5">App Config</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="6" class="active"><a href="http://relateit.io/configuration/configuration6">Tomcat</a></dd>       
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="7" ><a href="http://relateit.io/configuration/configuration7">Diagrams</a></dd>
        
        <li class="divider">|</li>
                
      </dl>
</div>      

    <h1><a href="/configuration/configuration6">Tomcat</a></h1>
    <p>The Searching and Indexing Web Applications have been tested on tomcat version <code>7.0.42</code> with the NIO Protocol. The tomcat was running on a 2 cpu (Intel(R) Xeon(R) CPU E5-2407 0 @ 2.20GHz), (4 cores each) server.</p>

<p>The NIO Configuration was as follows:</p>

<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
           connectionTimeout=&quot;60000&quot; processorCache=&quot;20000&quot; 
           maxKeepAliveRequests=&quot;10000&quot; acceptorThreadCount=&quot;1&quot; 
           socket.rxBufSize=&quot;4096&quot; socket.txBufSize=&quot;4096&quot; 
           socket.tcpNoDelay=&quot;true&quot; acceptCount=&quot;1024&quot;
           redirectPort=&quot;8443&quot; maxThreads=&quot;8&quot; asyncTimeout=&quot;120000&quot;/&gt;</code></pre>

<p>An example of a full configuration file would be:</p>

<pre><code>&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;	  
  &lt;!--APR library loader. Documentation at /docs/apr.html --&gt;
  &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;
  &lt;!--Initialize Jasper prior to webapps are loaded. Documentation at /docs/jasper-howto.html --&gt;
  &lt;Listener className=&quot;org.apache.catalina.core.JasperListener&quot; /&gt;
  &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;
  &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;
  &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;
  &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;

  &lt;!-- Global JNDI resources
       Documentation at /docs/jndi-resources-howto.html
  --&gt;
  &lt;GlobalNamingResources&gt;
    &lt;!-- Editable user database that can also be used by
         UserDatabaseRealm to authenticate users
    --&gt;
    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;
              type=&quot;org.apache.catalina.UserDatabase&quot;
              description=&quot;User database that can be updated and saved&quot;
              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;
              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;
  &lt;/GlobalNamingResources&gt;

  &lt;!-- A &quot;Service&quot; is a collection of one or more &quot;Connectors&quot; that share
       a single &quot;Container&quot; Note:  A &quot;Service&quot; is not itself a &quot;Container&quot;,
       so you may not define subcomponents such as &quot;Valves&quot; at this level.
       Documentation at /docs/config/service.html
   --&gt;
  &lt;Service name=&quot;Catalina&quot;&gt;


    &lt;!-- A &quot;Connector&quot; represents an endpoint by which requests are received
         and responses are returned. Documentation at :
         Java HTTP Connector: /docs/config/http.html (blocking &amp; non-blocking)
         Java AJP  Connector: /docs/config/ajp.html
         APR (HTTP/AJP) Connector: /docs/apr.html
         Define a non-SSL HTTP/1.1 Connector on port 8080
    --&gt;
    &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
            connectionTimeout=&quot;60000&quot; processorCache=&quot;20000&quot; maxKeepAliveRequests=&quot;10000&quot; 
            acceptorThreadCount=&quot;1&quot; socket.rxBufSize=&quot;4096&quot; socket.txBufSize=&quot;4096&quot; 
            socket.tcpNoDelay=&quot;true&quot; acceptCount=&quot;1024&quot;
            redirectPort=&quot;8443&quot; maxThreads=&quot;8&quot; asyncTimeout=&quot;120000&quot;/&gt;
            
    

    &lt;!-- An Engine represents the entry point (within Catalina) that processes
         every request.  The Engine implementation for Tomcat stand alone
         analyzes the HTTP headers included with the request, and passes them
         on to the appropriate Host (virtual host).
         Documentation at /docs/config/engine.html --&gt;

    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;

      &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords
           via a brute-force attack --&gt;
      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;
        &lt;!-- This Realm uses the UserDatabase configured in the global JNDI
             resources under the key &quot;UserDatabase&quot;.  Any edits
             that are performed against this UserDatabase are immediately
             available for use by the Realm.  --&gt;
        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;
               resourceName=&quot;UserDatabase&quot;/&gt;
      &lt;/Realm&gt;

      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;
            unpackWARs=&quot;true&quot; autoDeploy=&quot;false&quot;&gt;
      &lt;/Host&gt;
    &lt;/Engine&gt;
  &lt;/Service&gt;
&lt;/Server&gt;               </code></pre>

<!--       <article>

        <h3><a href="#">Blog Post Title</a></h3>
        <h6>Written by <a href="#">John Smith</a> on August 12, 2012.</h6>

        <div class="row">
          <div class="large-6 columns">
            <p>Bacon ipsum dolor sit amet nulla ham qui sint exercitation eiusmod commodo, chuck duis velit. Aute in reprehenderit, dolore aliqua non est magna in labore pig pork biltong. Eiusmod swine spare ribs reprehenderit culpa.</p>
            <p>Boudin aliqua adipisicing rump corned beef. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>
          </div>
          <div class="large-6 columns">
            <img src="http://placehold.it/400x240&text=[img]" />
          </div>
        </div>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

      </article>

      <hr />

      <article>

        <h3><a href="#">Blog Post Title</a></h3>
        <h6>Written by <a href="#">John Smith</a> on August 12, 2012.</h6>

        <div class="row">
          <div class="large-6 columns">
            <p>Bacon ipsum dolor sit amet nulla ham qui sint exercitation eiusmod commodo, chuck duis velit. Aute in reprehenderit, dolore aliqua non est magna in labore pig pork biltong. Eiusmod swine spare ribs reprehenderit culpa.</p>
            <p>Boudin aliqua adipisicing rump corned beef. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>
          </div>
          <div class="large-6 columns">
            <img src="http://placehold.it/400x240&text=[img]" />
          </div>
        </div>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

      </article> -->

    </div>

    <!-- End Main Content -->


    <!-- Sidebar -->

<!--     <aside class="large-3 columns">

      <h5>Categories</h5>
      <ul class="side-nav">
        <li><a href="#">News</a></li>
        <li><a href="#">Code</a></li>
        <li><a href="#">Design</a></li>
        <li><a href="#">Fun</a></li>
        <li><a href="#">Weasels</a></li>
      </ul>

      <div class="panel">
        <h5>Featured</h5>
        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow.</p>
        <a href="#">Read More &rarr;</a>
      </div>

    </aside> -->

    <!-- End Sidebar -->
  </div>

  <!-- End Main Content and Sidebar -->

      <div class="pagination-centered">
      <ul class="pagination">
      
      
      
         
        
        <li><a href="http://relateit.io/configuration/configuration1">1</a></li>
        
      
         
        
        <li><a href="http://relateit.io/configuration/configuration2">2</a></li>
        
      
         
        
        <li><a href="http://relateit.io/configuration/configuration3">3</a></li>
        
      
         
        
        <li><a href="http://relateit.io/configuration/configuration4">4</a></li>
        
      
         
        
        <li><a href="http://relateit.io/configuration/configuration5">5</a></li>
        
      
         
        
        <li class="current"><a href="http://relateit.io/configuration/configuration6">6</a></li>
        
      
         
        
        <li><a href="http://relateit.io/configuration/configuration7">7</a></li>
        
      
      </ul>
    </div>

  <!-- Footer -->
  </div>
</div>
<footer class="row">
    <div class="large-12 columns">
      <hr />
      <div class="row">
        <div class="large-6 columns">
          <p class="copyright">&copy; relate it maintained by <a href="https://github.com/tootedom">tootedom</a></p>
        </div>
        <div class="large-6 columns">
          <ul class="inline-list right">
            <li><a href="https://github.com/tootedom/related"><i class="fa fa-github"></i> Relate it (Source)</a></li>
            <li><address><a href="mailto:dominic.tootell@relateit.io"><i class="fa fa-envelope"></i> Dominic Tootell</a></address></li>
            <li><a href="https://twitter.com/tootedom"><i class="fa fa-twitter"></i>@tootedom</a></li>
          </ul>
        </div>
      </div>
    </div>
</footer>
<script src="http://relateit.io/javascripts/vendor/jquery.js"></script>
<script src="http://relateit.io/javascripts/foundation/foundation.js"></script>
<script src="http://relateit.io/javascripts/foundation/foundation.dropdown.js"></script>
<script src="http://relateit.io/javascripts/foundation/foundation.magellan.js"></script>
<script src="http://relateit.io/javascripts/foundation/foundation.offcanvas.js"></script>
<script>
      $(document).foundation({
        // specify the class used for active dropdowns
        active_class: 'open'
      });

      var doc = document.documentElement;
      doc.setAttribute('data-useragent', navigator.userAgent);
</script>

  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47714522-1");
            pageTracker._trackPageview();
            } catch(err) {}
</script>
  </body>
</html>

