<!doctype html>




<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
   
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relate It</title>

    
    <meta name="description" content="Relate it: Tracks Frequently Related Items." />
    
    <meta name="author" content="Dominic Tootell" />
    <meta name="copyright" content="relate it (c) 2013-2014" />
    <link rel="shortcut icon" href="relateit.io/favicon.ico" />

	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="relateit.io/stylesheets/foundation.css" />
    <script src="relateit.io/javascripts/vendor/modernizr.js"></script>
</head>


  <body>
    

<!-- Nav Bar -->

  <header class="inner">

	<nav>	  
	  <div class="row">	  	
	    <div class="large-12 columns">	      
	      <div class="nav-bar right" style="padding-top: 30px">
	       <ul class="button-group">
	         <li><a href='relateit.io/index.html' class="radius small button">Home</a></li>	         
	         <li><a href='relateit.io/indexing/index.html' class="radius small button">Indexing</a><br/></li>
	         <li><a href='relateit.io/searching/index.html' class="radius small button">Searching</a><br/></li>							 
	         <li><a href='relateit.io/configuration/index.html' class="radius small button">Configuration</a></li>
	         <li><a href='relateit.io/blog/index.html' class="radius small button">Blog</a></li>
	         <li><a href='relateit.io/downloads.html'  class="radius small button">Downloads</a></li>         
	        </ul>
	      </div>
	      <h1><a href='https://github.com/tootedom/related'><img src="relateit.io/images/relateitlogo.png"></a></h1>
	      <hr />
	    </div>
	  </div>
	</nav>	
</header>


  <!-- End Nav -->
  

  <div class="off-canvas-wrap">
  <div class="inner-wrap">

<nav class="tab-bar show-for-small">
  <a class="left-off-canvas-toggle menu-icon">
    <span></span>
  </a>
</nav>

<aside class="left-off-canvas-menu">

  <div class="sidebar-offcanvas">
          <h5>Documentation:</h5>          
          <nav>
            <ul class="off-canvas-list">
              <li class="heading">Indexing</li>
              
              
                
              
              

 

	<li><a href="relateit.io/indexing/indexing1" data-search>Overview</a></li>


 

	<li><a href="relateit.io/indexing/indexing2" data-search>Dates</a></li>


 

	<li><a href="relateit.io/indexing/indexing3" data-search>Document Format</a></li>


 

	<li><a href="relateit.io/indexing/indexing4" data-search>Properties</a></li>


 

	<li><a href="relateit.io/indexing/indexing5" data-search>Logging</a></li>


              <li class="divider"></li>
              <li class="heading">Searching</li>
              
              
                
              
              

 

	<li><a href="relateit.io/searching/searching1" data-search>Overview</a></li>


 

	<li><a href="relateit.io/searching/searching2" data-search>Filters</a></li>


 

	<li><a href="relateit.io/searching/searching3" data-search>Logging</a></li>


 

	<li><a href="relateit.io/searching/searching4" data-search>Indexes</a></li>


 

	<li><a href="relateit.io/searching/searching5" data-search>Aliases</a></li>


              <li class="divider"></li>
              <li class="heading">Configuration</li>
              
              
                
              
              

 

	
	<li><a href="relateit.io/configuration/configuration1" data-search class="active">Elasticsearch</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration2" data-search>ES Type Mapping</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration3" data-search>ES Configuration</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration4" data-search>JVM</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration5" data-search>App Config</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration6" data-search>Tomcat</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration7" data-search>Diagrams</a></li>
	


            </ul>
          </nav>
        </div> 

 
</aside>

<a class="exit-off-canvas" href="#"></a>


  <!-- Main Page Content and Sidebar -->

  <div class="row">
        <div class="large-3 medium-4 columns">
      <div class="hide-for-small">
        <div class="sidebar">
          <h5>Documentation:</h5>          
          <nav>
            <ul class="side-nav">
              <li class="heading">Indexing</li>
              
              
                
              
              

 

	<li><a href="relateit.io/indexing/indexing1" data-search>Overview</a></li>


 

	<li><a href="relateit.io/indexing/indexing2" data-search>Dates</a></li>


 

	<li><a href="relateit.io/indexing/indexing3" data-search>Document Format</a></li>


 

	<li><a href="relateit.io/indexing/indexing4" data-search>Properties</a></li>


 

	<li><a href="relateit.io/indexing/indexing5" data-search>Logging</a></li>


              <li class="divider"></li>
              <li class="heading">Searching</li>
              
              
                
              
              

 

	<li><a href="relateit.io/searching/searching1" data-search>Overview</a></li>


 

	<li><a href="relateit.io/searching/searching2" data-search>Filters</a></li>


 

	<li><a href="relateit.io/searching/searching3" data-search>Logging</a></li>


 

	<li><a href="relateit.io/searching/searching4" data-search>Indexes</a></li>


 

	<li><a href="relateit.io/searching/searching5" data-search>Aliases</a></li>


              <li class="divider"></li>
              <li class="heading">Configuration</li>
              
              
                
              
              

 

	
	<li><a href="relateit.io/configuration/configuration1" data-search class="active">Elasticsearch</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration2" data-search>ES Type Mapping</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration3" data-search>ES Configuration</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration4" data-search>JVM</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration5" data-search>App Config</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration6" data-search>Tomcat</a></li>
	


 

	
	<li><a href="relateit.io/configuration/configuration7" data-search>Diagrams</a></li>
	


            </ul>
          </nav>
        </div> 
      </div>
    </div>
    <!-- Main Blog Content -->
    <div class="large-9 medium-8 columns" role="content">
    
    <div class="magellan-container" data-magellan-expedition="fixed" style="left: auto;">
      <dl class="sub-nav">        
        
        
         
        
          <dd data-magellan-arrival="1" class="active"><a href="relateit.io/configuration/configuration1">Elasticsearch</a></dd>       
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="2" ><a href="relateit.io/configuration/configuration2">ES Type Mapping</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="3" ><a href="relateit.io/configuration/configuration3">ES Configuration</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="4" ><a href="relateit.io/configuration/configuration4">JVM</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="5" ><a href="relateit.io/configuration/configuration5">App Config</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="6" ><a href="relateit.io/configuration/configuration6">Tomcat</a></dd>
        
        <li class="divider">|</li>
        
         
        
          <dd data-magellan-arrival="7" ><a href="relateit.io/configuration/configuration7">Diagrams</a></dd>
        
        <li class="divider">|</li>
                
      </dl>
</div>      

    <h1><a href="/configuration/configuration1">Elasticsearch</a></h1>
    <p>The related item data is stored in that of elasticsearch. The ability to find the frequently related items, for a given item, is provided by that of elasticsearch and its faceting.</p>

<p>The indexing and searching web applications use the elasticsearch java library.</p>

<p>The means by which the indexing and searching applications talk to elastic is by using the elasticsearch binary transport protocol. Meaning, the version of the client embedded within the web applications (indexing and searching), <em>MUST</em> match that of the elasticsearch server. Also, the version of JAVA on the client and the server <code>MUST</code> be the same.</p>

<pre><code>Current embedded elasticsearch version is: **0.90.9**</code></pre>

<p>By default both applications use the Transport protocol to connect to elasticsearch with sniffing enabled:</p>

<pre><code>client.transport.sniff : true</code></pre>

<p>(Sniffing means that you can specify only a couple of hosts, and the client will glen information on the rest of the cluster through those nodes).</p>

<p>The reason behind no support for HTTP endpoint is just to focus on using the most performant client option, which is that of the transport client. HTTP support is on the list of things to enable, but it would require either extra configuration at your side (i.e. a load balancer), or for the application to provide a simple round robin implementation to round robin request over a list of nodes. So at the moment only the <code>node</code>, or <code>transport</code> option are available. With the default being that of <code>transport</code>.</p>

<h3 id="elasticsearch_connection_configuration">Elasticsearch Connection Configuration</h3>

<p>The defaults for indexing and searching have been set based on a JVM the is running 1GB with 128m of PermGen (The specific configuration for these JVM Parameters can be found below).</p>

<p>At minimum the only configuration required is the connection details for your elasticsearch installation:</p>

<pre><code>related-item.elastic.search.transport.hosts=10.0.1.19:9300</code></pre>

<p>This can be a comma separated list of hosts:</p>

<pre><code>related-item.elastic.search.transport.hosts=10.0.1.19:9300,10.0.1.29:9300</code></pre>

<p>By default the application uses the TRANSPORT client to connect to elastic search. If you only specify one host, but you have 2 nodes in your elasticsearch cluster, the transport client is enabled by default to sniff (ask the node for information about other nodes in the cluster), and obtain a list of other nodes to connect to.</p>

<!--       <article>

        <h3><a href="#">Blog Post Title</a></h3>
        <h6>Written by <a href="#">John Smith</a> on August 12, 2012.</h6>

        <div class="row">
          <div class="large-6 columns">
            <p>Bacon ipsum dolor sit amet nulla ham qui sint exercitation eiusmod commodo, chuck duis velit. Aute in reprehenderit, dolore aliqua non est magna in labore pig pork biltong. Eiusmod swine spare ribs reprehenderit culpa.</p>
            <p>Boudin aliqua adipisicing rump corned beef. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>
          </div>
          <div class="large-6 columns">
            <img src="http://placehold.it/400x240&text=[img]" />
          </div>
        </div>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

      </article>

      <hr />

      <article>

        <h3><a href="#">Blog Post Title</a></h3>
        <h6>Written by <a href="#">John Smith</a> on August 12, 2012.</h6>

        <div class="row">
          <div class="large-6 columns">
            <p>Bacon ipsum dolor sit amet nulla ham qui sint exercitation eiusmod commodo, chuck duis velit. Aute in reprehenderit, dolore aliqua non est magna in labore pig pork biltong. Eiusmod swine spare ribs reprehenderit culpa.</p>
            <p>Boudin aliqua adipisicing rump corned beef. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>
          </div>
          <div class="large-6 columns">
            <img src="http://placehold.it/400x240&text=[img]" />
          </div>
        </div>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>

      </article> -->

    </div>

    <!-- End Main Content -->


    <!-- Sidebar -->

<!--     <aside class="large-3 columns">

      <h5>Categories</h5>
      <ul class="side-nav">
        <li><a href="#">News</a></li>
        <li><a href="#">Code</a></li>
        <li><a href="#">Design</a></li>
        <li><a href="#">Fun</a></li>
        <li><a href="#">Weasels</a></li>
      </ul>

      <div class="panel">
        <h5>Featured</h5>
        <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow.</p>
        <a href="#">Read More &rarr;</a>
      </div>

    </aside> -->

    <!-- End Sidebar -->
  </div>

  <!-- End Main Content and Sidebar -->

      <div class="pagination-centered">
      <ul class="pagination">
      
      
      
         
        
        <li class="current"><a href="relateit.io/configuration/configuration1">1</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration2">2</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration3">3</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration4">4</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration5">5</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration6">6</a></li>
        
      
         
        
        <li><a href="relateit.io/configuration/configuration7">7</a></li>
        
      
      </ul>
    </div>

  <!-- Footer -->
  </div>
</div>
<footer class="row">
    <div class="large-12 columns">
      <hr />
      <div class="row">
        <div class="large-6 columns">
          <p class="copyright">&copy; relate it maintained by <a href="https://github.com/tootedom">tootedom</a></p>
        </div>
        <div class="large-6 columns">
          <ul class="inline-list right">
            <li><a href="https://github.com/tootedom/related"><i class="fa fa-github"></i> Relate it (Source)</a></li>
            <li><address><a href="mailto:dominic.tootell@relateit.io"><i class="fa fa-envelope"></i> Dominic Tootell</a></address></li>
            <li><a href="https://twitter.com/tootedom"><i class="fa fa-twitter"></i>@tootedom</a></li>
          </ul>
        </div>
      </div>
    </div>
</footer>
<script src="relateit.io/javascripts/vendor/jquery.js"></script>
<script src="relateit.io/javascripts/foundation/foundation.js"></script>
<script src="relateit.io/javascripts/foundation/foundation.dropdown.js"></script>
<script src="relateit.io/javascripts/foundation/foundation.magellan.js"></script>
<script src="relateit.io/javascripts/foundation/foundation.offcanvas.js"></script>
<script>
      $(document).foundation({
        // specify the class used for active dropdowns
        active_class: 'open'
      });

      var doc = document.documentElement;
      doc.setAttribute('data-useragent', navigator.userAgent);
</script>

  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47714522-1");
            pageTracker._trackPageview();
            } catch(err) {}
</script>
  </body>
</html>

